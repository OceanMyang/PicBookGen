<!-- Require { filename: string, fileContent: string, scripts: string[] } -->

<%- include('header', { title: filename }) %>

	<body>
		<nav class="navbar navbar-expand">
			<a style="height: 2em;" class="d-inline-block" id="index-button" href="/">
				<img style="height: 2em; border: none; " src="/res/file.png" alt="Back">
			</a>
			<div id="title-container" class="btn-light" contenteditable="plaintext-only"><%- filename -%></div>
		</nav>
		<nav class="navbar navbar-expand row no-gutters">
			<form id="input-form" class="d-none" action="/upload" method="post" enctype="multipart/form-data">
				<input id="input" type="file" accept="text/plain" name="file" class="d-none">
			</form>
			<div class="col" id="file-menu">
				<button id="save-file" class="btn btn-primary">Save</button>
				<button id="new-file" class="btn btn-primary">New</button>
				<button id="upload-file" class="btn btn-primary">Upload</button>
				<button id="dump-file" class="btn btn-primary">Delete</button>
			</div>
			<div class="col" id="action-menu">
				<a id="show-images" href="images" class="btn btn-primary">Show Images</a>
				<button id="upload-image" type="button" class="btn btn-primary">Upload Image</button>
			</div>
		</nav>
		<div class="row no-gutters">
			<div class="col">
				<div class="leftside" id="text-viewer" contenteditable="plaintext-only"><%- fileContent -%></div>
			</div>
			<div class="col">
				<div class="rightside justify-content-center align-items-center text-center">
					<img id="image-viewer" src="" alt="">
				</div>
			</div>
		</div>
	</body>
	<div>
		<% scripts.forEach(script=> { -%>
			<script type="module" src="/js/<%= script %>"></script>
			<% }) %>
	</div>
	<%- include('footer') %>